<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Congress PO Command Center</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Merriweather:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="page">
    <header class="top-bar">
      <div class="top-title">
        <h1>Congress Presiding Officer Console</h1>
        <p>Precedence, timers, and scripts in one place.</p>
      </div>
      <div class="top-meta">
        <div class="meta-item">
          <span class="meta-label">Chamber</span>
          <input id="chamberNameInput" type="text" placeholder="e.g., Senate A – Round 3" />
        </div>
        <div class="meta-item">
          <span class="meta-label">Tournament</span>
          <input id="tournamentNameInput" type="text" placeholder="e.g., NSDA Districts 2025" />
        </div>
      </div>
    </header>

    <main class="layout">
      <!-- LEFT: GOOGLE SHEET / PRECEDENCE -->
      <section class="card card-left">
        <header class="card-header">
          <div>
            <h2>Precedence & Rosters</h2>
            <p>Embed your Google Sheet here. Update precedence directly in the sheet.</p>
          </div>
        </header>
        <div class="sheet-config">
          <label for="sheetUrlInput">Google Sheet embed URL</label>
          <div class="sheet-input-row">
            <input
              id="sheetUrlInput"
              type="text"
              placeholder="Paste the published or embed URL of your precedence sheet"
            />
            <button id="btnLoadSheet" type="button">Load sheet</button>
          </div>
          <p class="note">
            Tip: In Google Sheets, use <strong>File → Share → Publish to the web</strong>, copy the
            embed URL, and paste it here. The same sheet will update in real time on all devices viewing it.
          </p>
        </div>
        <div class="sheet-frame-wrapper">
          <iframe id="sheetFrame" title="Precedence Sheet" frameborder="0"></iframe>
          <div id="sheetPlaceholder" class="sheet-placeholder">
            <p>No sheet loaded yet.</p>
            <p>Paste your Google Sheet embed URL above and click <strong>Load sheet</strong>.</p>
          </div>
        </div>
      </section>

      <!-- RIGHT: TOOLS -->
      <section class="tools-column">
        <!-- TIMER -->
        <section class="card">
          <header class="card-header">
            <div>
              <h2>Timers</h2>
              <p>Speech and questioning blocks with gavel cues.</p>
            </div>
            <div class="timer-mode-toggle">
              <button type="button" data-mode="speech" class="mode-btn active">Speech</button>
              <button type="button" data-mode="question" class="mode-btn">Question</button>
            </div>
          </header>

          <div class="timer-body">
            <div class="timer-display" id="timerDisplay">3:00</div>
            <div class="timer-gavel" id="timerGavelCue">&nbsp;</div>

            <div class="timer-presets">
              <span class="timer-presets-label">Speech presets</span>
              <button type="button" class="preset-btn" data-preset="180">3:00</button>
              <button type="button" class="preset-btn" data-preset="150">2:30</button>
              <button type="button" class="preset-btn" data-preset="120">2:00</button>
              <button type="button" class="preset-btn" data-preset="90">1:30</button>
            </div>

            <div class="timer-question-info">
              <div>
                <span class="label">Question chunk length:</span>
                <span id="questionChunkLabel">0:30</span>
              </div>
              <div>
                <span class="label">Questions used this block:</span>
                <span id="questionsUsedLabel">0</span>
              </div>
            </div>

            <div class="timer-controls">
              <button id="btnTimerStart" type="button">Start</button>
              <button id="btnTimerPause" type="button">Pause</button>
              <button id="btnTimerReset" type="button">Reset</button>
              <button id="btnTimerNextQuestioner" type="button" class="secondary">
                Next questioner
              </button>
            </div>

            <button id="btnTimerSettingsToggle" type="button" class="settings-toggle">
              Timer & gavel settings
            </button>

            <div id="timerSettingsPanel" class="settings-panel hidden">
              <h3>Timer & gavel settings</h3>

              <div class="settings-group">
                <h4>Speech timer</h4>
                <label>
                  Default speech length (seconds)
                  <input id="speechDurationInput" type="number" min="30" step="10" />
                </label>
                <div class="settings-row">
                  <div>
                    <span>Gavel cues at (seconds from start):</span>
                  </div>
                  <div class="gavel-inputs">
                    <input id="speechCue1Input" type="number" min="0" placeholder="e.g., 60" />
                    <input id="speechCue2Input" type="number" min="0" placeholder="e.g., 120" />
                    <input id="speechCue3Input" type="number" min="0" placeholder="e.g., 180" />
                  </div>
                  <p class="note small">
                    Example: 120, 150, 180 = taps at 2:00, 2:30, and 3:00.
                  </p>
                </div>
              </div>

              <div class="settings-group">
                <h4>Question timer</h4>
                <label>
                  Question chunk length (seconds)
                  <input id="questionDurationInput" type="number" min="5" step="5" />
                </label>
                <label>
                  Gavel cue at (seconds from start)
                  <input id="questionCueInput" type="number" min="0" />
                </label>
                <p class="note small">
                  Example: 30 = tap once when the chunk ends.
                </p>
              </div>

              <div class="settings-actions">
                <button id="btnSaveTimerSettings" type="button">Save settings</button>
                <button id="btnResetTimerSettings" type="button" class="secondary">
                  Reset to defaults
                </button>
              </div>
            </div>
          </div>
        </section>

        <!-- AFF/NEG TRACKER -->
        <section class="card">
          <header class="card-header">
            <div>
              <h2>Aff / Neg Tracker</h2>
              <p>Keep track of the flow and what to call for next.</p>
            </div>
            <div class="chamber-type">
              <label for="chamberTypeSelect">Chamber type</label>
              <select id="chamberTypeSelect">
                <option value="house">House (Representatives)</option>
                <option value="senate">Senate (Senators)</option>
              </select>
            </div>
          </header>

          <div class="tracker-body">
            <div class="tracker-row">
              <label>
                <input type="checkbox" id="authorshipGivenCheckbox" />
                Authorship / sponsorship has already been given
              </label>
            </div>

            <div class="tracker-next">
              <div class="tracker-next-main">
                <span class="label">Next speech:</span>
                <span id="nextSpeechLabel" class="next-speech-label">Affirmation #1</span>
              </div>
              <div class="tracker-counts">
                <span>Aff: <strong id="affCountLabel">0</strong></span>
                <span>Neg: <strong id="negCountLabel">0</strong></span>
              </div>
            </div>

            <div class="tracker-line">
              <p class="label">Suggested line:</p>
              <p id="suggestedLine" class="suggested-line">
                Thank you, Senators. We are now in line for the first affirmation speech on this
                legislation.
              </p>
            </div>

            <div class="tracker-buttons">
              <button id="btnNextAff" type="button">Set next as Affirmation</button>
              <button id="btnNextNeg" type="button">Set next as Negation</button>
              <button id="btnMarkSpeechGiven" type="button" class="primary">
                Mark speech as given
              </button>
            </div>

            <div class="tracker-footer">
              <button id="btnResetBill" type="button" class="secondary small">
                New bill / reset counts
              </button>
            </div>
          </div>
        </section>

        <!-- SCRIPT BANK -->
        <section class="card">
          <header class="card-header">
            <div>
              <h2>Presiding Officer Script Bank</h2>
              <p>Formal lines you can read or adapt.</p>
            </div>
          </header>

          <div class="scripts">
            <details open>
              <summary>Opening the chamber</summary>
              <div class="script-block">
                <p><strong>Call to order:</strong></p>
                <p>
                  “The chamber will now come to order. We are the [House/Senate] of
                  [tournament name]. My name is [your name], and I will be serving as your
                  Presiding Officer for this session.”
                </p>

                <p><strong>Roll call:</strong></p>
                <p>
                  “We will now proceed with roll call. When your name is called, please respond
                  ‘present’ and confirm your school and seat.”
                </p>

                <p><strong>Docket adoption:</strong></p>
                <p>
                  “The docket has been distributed. Are there any motions regarding today’s
                  agenda?”
                </p>
                <p>
                  “Seeing that motion, is there a second? … All those in favor of adopting the
                  docket as presented, please say ‘Aye’. All opposed, ‘Nay’. The ‘Ayes’ have it,
                  and the docket is adopted.”
                </p>
              </div>
            </details>

            <details>
              <summary>Recognizing speakers & using precedence</summary>
              <div class="script-block">
                <p><strong>First speech on a bill:</strong></p>
                <p>
                  “On this legislation, who wishes to give the authorship or sponsorship speech?
                  [Recognize the sponsor.] You are now recognized for three minutes.”
                </p>

                <p><strong>Subsequent speeches:</strong></p>
                <p>
                  “On this legislation, who wishes to speak in [affirmation/negation]? According
                  to precedence, the chair recognizes [last name] of [school]. You are
                  recognized for three minutes.”
                </p>

                <p><strong>Explaining precedence:</strong></p>
                <p>
                  “For transparency, I am using a live precedence system. Delegates with fewer
                  speeches and earlier previous recognition will be prioritized.”
                </p>
              </div>
            </details>

            <details>
              <summary>Questioning periods</summary>
              <div class="script-block">
                <p><strong>Opening questioning:</strong></p>
                <p>
                  “We will now move to questioning for the speaker. Questioners, please rise and
                  direct your questions through the chair.”
                </p>

                <p><strong>Recognizing questioners:</strong></p>
                <p>
                  “The chair recognizes [name] of [school] for a question. Please keep questions
                  concise and non-prefaced.”
                </p>

                <p><strong>Clarifying:</strong></p>
                <p>
                  “Delegate, please narrow that to a single, direct question so we may hear from
                  as many members as possible.”
                </p>

                <p><strong>Ending questioning:</strong></p>
                <p>
                  “That concludes the questioning period. Thank you, delegates. We will now move
                  to the next speaker.”
                </p>
              </div>
            </details>

            <details>
              <summary>Handling amendments</summary>
              <div class="script-block">
                <p><strong>Introducing an amendment:</strong></p>
                <p>
                  “The chair has received an amendment from [name] of [school] to the legislation
                  titled [bill title]. This amendment proposes to change [brief summary].”
                </p>

                <p><strong>Ruling in order:</strong></p>
                <p>
                  “The amendment is in order as it is germane and properly formatted. We will now
                  proceed to one speech in affirmation and one in negation before a vote.”
                </p>

                <p><strong>Ruling out of order:</strong></p>
                <p>
                  “After review, the amendment is ruled out of order as it is not germane to the
                  legislation. It will not be considered.”
                </p>
              </div>
            </details>

            <details>
              <summary>Motions & procedure</summary>
              <div class="script-block">
                <p><strong>Calling for motions:</strong></p>
                <p>“Are there any motions on the floor at this time?”</p>

                <p><strong>Previous question:</strong></p>
                <p>
                  “There is a motion to move the previous question, which seeks to end debate and
                  proceed to a vote. Is there a second? … This requires a two-thirds vote. All
                  those in favor, please say ‘Aye’…”
                </p>

                <p><strong>Recess / adjourn:</strong></p>
                <p>
                  “There is a motion to [recess/adjourn]. Is there a second? … This motion
                  requires a simple majority. All those in favor…”
                </p>

                <p><strong>Dilatory motions:</strong></p>
                <p>
                  “The chair rules that motion dilatory at this time as it has just been
                  attempted and failed. We will proceed with business.”
                </p>
              </div>
            </details>

            <details>
              <summary>Voting & closing the session</summary>
              <div class="script-block">
                <p><strong>Closing debate and voting:</strong></p>
                <p>
                  “Seeing no further speakers, debate on this legislation is exhausted. We will
                  now move to a vote.”
                </p>

                <p><strong>Voice vote:</strong></p>
                <p>
                  “All those in favor of passing this legislation, please say ‘Aye’. All opposed,
                  ‘Nay’. In the opinion of the chair, the ‘Ayes/Nays’ have it and the legislation
                  is passed/failed.”
                </p>

                <p><strong>Division:</strong></p>
                <p>
                  “A division has been called. All those in favor, please rise. … You may be
                  seated. All opposed, please rise. … With a vote of [yes] to [no], this
                  legislation [passes/fails].”
                </p>

                <p><strong>Closing the session:</strong></p>
                <p>
                  “Delegates, thank you for your work and for maintaining decorum. On behalf of
                  this chamber, I would like to thank our judges, tournament staff, and coaches
                  for their support. If there are no further privileged motions, this session is
                  now adjourned.”
                </p>
              </div>
            </details>
          </div>
        </section>
      </section>
    </main>

    <footer class="footer">
      <span>Designed for NSDA Congressional Debate Presiding Officers.</span>
      <span class="muted">This page stores settings only on this device (no server).</span>
    </footer>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
